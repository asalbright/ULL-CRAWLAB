[
theta_1_dot, 
theta_2_dot, 
theta_3_dot, 
theta_4_dot, 
(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_2*theta_4_dot - 1.0*k_2*theta_4 - m_4*(l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot)/2 + m_4*(l_1*l_4*((np.sin(theta_3)*np.sin(theta_4) - np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4))/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_1*theta_2_dot + b_2*theta_4_dot - 1.0*k_1*theta_2 - l_1*l_2*m_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot/2 + l_1*l_2*m_2*np.sin(theta_2)*theta_1_dot*theta_2_dot/2 + m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot)/2 - m_3*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot)/2 - m_4*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) + self.tau_2)/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) - (I_4 + m_4*(l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))*(b_2*theta_4_dot - m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3))/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*((np.sin(theta_3)*np.sin(theta_4) - np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot))/2 - m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_1*theta_2_dot + b_2*theta_4_dot - 1.0*k_1*theta_2 - l_1*l_2*m_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot/2 + l_1*l_2*m_2*np.sin(theta_2)*theta_1_dot*theta_2_dot/2 + m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot)/2 - m_3*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot)/2 - m_4*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) + self.tau_2)/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) + self.tau_2)/(I_3 + I_4 + l_3**2*m_3/4 + m_4*(2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))))/(I_4 + l_4**2*m_4/4 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) - (I_4 + m_4*(l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))**2/(I_3 + I_4 + l_3**2*m_3/4 + m_4*(2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))) - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_2*theta_4_dot - m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3))/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*((np.sin(theta_3)*np.sin(theta_4) - np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot))/2 - m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))*(b_2*theta_4_dot - 1.0*k_2*theta_4 - m_4*(l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot)/2 + m_4*(l_1*l_4*((np.sin(theta_3)*np.sin(theta_4) - np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4))/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_1*theta_2_dot + b_2*theta_4_dot - 1.0*k_1*theta_2 - l_1*l_2*m_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot/2 + l_1*l_2*m_2*np.sin(theta_2)*theta_1_dot*theta_2_dot/2 + m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot)/2 - m_3*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot)/2 - m_4*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) + self.tau_2)/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) - (I_4 + m_4*(l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))*(b_2*theta_4_dot - m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3))/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*((np.sin(theta_3)*np.sin(theta_4) - np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot))/2 - m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_1*theta_2_dot + b_2*theta_4_dot - 1.0*k_1*theta_2 - l_1*l_2*m_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot/2 + l_1*l_2*m_2*np.sin(theta_2)*theta_1_dot*theta_2_dot/2 + m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot)/2 - m_3*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot)/2 - m_4*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) + self.tau_2)/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) + self.tau_2)/(I_3 + I_4 + l_3**2*m_3/4 + m_4*(2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))))/(I_4 + l_4**2*m_4/4 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) - (I_4 + m_4*(l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))**2/(I_3 + I_4 + l_3**2*m_3/4 + m_4*(2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_1*theta_2_dot + b_2*theta_4_dot - 1.0*k_1*theta_2 - l_1*l_2*m_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot/2 + l_1*l_2*m_2*np.sin(theta_2)*theta_1_dot*theta_2_dot/2 + m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot)/2 - m_3*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot)/2 - m_4*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) + self.tau_2)/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) + self.tau_2)/(I_3 + I_4 + l_3**2*m_3/4 + m_4*(2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))) - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - 1.0*k_1*theta_2 - l_1*l_2*m_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot/2 + l_1*l_2*m_2*np.sin(theta_2)*theta_1_dot*theta_2_dot/2 + m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot)/2 - m_3*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot)/2 - m_4*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_2*theta_4_dot - 1.0*k_2*theta_4 - m_4*(l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot)/2 + m_4*(l_1*l_4*((np.sin(theta_3)*np.sin(theta_4) - np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4))/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_1*theta_2_dot + b_2*theta_4_dot - 1.0*k_1*theta_2 - l_1*l_2*m_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot/2 + l_1*l_2*m_2*np.sin(theta_2)*theta_1_dot*theta_2_dot/2 + m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot)/2 - m_3*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot)/2 - m_4*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) + self.tau_2)/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) - (I_4 + m_4*(l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))*(b_2*theta_4_dot - m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3))/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*((np.sin(theta_3)*np.sin(theta_4) - np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot))/2 - m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_1*theta_2_dot + b_2*theta_4_dot - 1.0*k_1*theta_2 - l_1*l_2*m_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot/2 + l_1*l_2*m_2*np.sin(theta_2)*theta_1_dot*theta_2_dot/2 + m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot)/2 - m_3*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot)/2 - m_4*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) + self.tau_2)/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) + self.tau_2)/(I_3 + I_4 + l_3**2*m_3/4 + m_4*(2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))))/(I_4 + l_4**2*m_4/4 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) - (I_4 + m_4*(l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))**2/(I_3 + I_4 + l_3**2*m_3/4 + m_4*(2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_2*theta_4_dot - m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3))/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*((np.sin(theta_3)*np.sin(theta_4) - np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot))/2 - m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))*(b_2*theta_4_dot - 1.0*k_2*theta_4 - m_4*(l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot)/2 + m_4*(l_1*l_4*((np.sin(theta_3)*np.sin(theta_4) - np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4))/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_1*theta_2_dot + b_2*theta_4_dot - 1.0*k_1*theta_2 - l_1*l_2*m_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot/2 + l_1*l_2*m_2*np.sin(theta_2)*theta_1_dot*theta_2_dot/2 + m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot)/2 - m_3*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot)/2 - m_4*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) + self.tau_2)/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) - (I_4 + m_4*(l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))*(b_2*theta_4_dot - m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3))/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*((np.sin(theta_3)*np.sin(theta_4) - np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot))/2 - m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_1*theta_2_dot + b_2*theta_4_dot - 1.0*k_1*theta_2 - l_1*l_2*m_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot/2 + l_1*l_2*m_2*np.sin(theta_2)*theta_1_dot*theta_2_dot/2 + m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot)/2 - m_3*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot)/2 - m_4*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) + self.tau_2)/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) + self.tau_2)/(I_3 + I_4 + l_3**2*m_3/4 + m_4*(2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))))/(I_4 + l_4**2*m_4/4 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) - (I_4 + m_4*(l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))**2/(I_3 + I_4 + l_3**2*m_3/4 + m_4*(2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_1*theta_2_dot + b_2*theta_4_dot - 1.0*k_1*theta_2 - l_1*l_2*m_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot/2 + l_1*l_2*m_2*np.sin(theta_2)*theta_1_dot*theta_2_dot/2 + m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot)/2 - m_3*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot)/2 - m_4*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) + self.tau_2)/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) + self.tau_2)/(I_3 + I_4 + l_3**2*m_3/4 + m_4*(2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))) - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) + self.tau_2)/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2), 
(b_1*theta_2_dot + b_2*theta_4_dot - 1.0*k_1*theta_2 - l_1*l_2*m_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot/2 + l_1*l_2*m_2*np.sin(theta_2)*theta_1_dot*theta_2_dot/2 + m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot)/2 - m_3*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot)/2 - m_4*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_2*theta_4_dot - 1.0*k_2*theta_4 - m_4*(l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot)/2 + m_4*(l_1*l_4*((np.sin(theta_3)*np.sin(theta_4) - np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4))/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_1*theta_2_dot + b_2*theta_4_dot - 1.0*k_1*theta_2 - l_1*l_2*m_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot/2 + l_1*l_2*m_2*np.sin(theta_2)*theta_1_dot*theta_2_dot/2 + m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot)/2 - m_3*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot)/2 - m_4*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) + self.tau_2)/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) - (I_4 + m_4*(l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))*(b_2*theta_4_dot - m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3))/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*((np.sin(theta_3)*np.sin(theta_4) - np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot))/2 - m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_1*theta_2_dot + b_2*theta_4_dot - 1.0*k_1*theta_2 - l_1*l_2*m_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot/2 + l_1*l_2*m_2*np.sin(theta_2)*theta_1_dot*theta_2_dot/2 + m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot)/2 - m_3*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot)/2 - m_4*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) + self.tau_2)/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) + self.tau_2)/(I_3 + I_4 + l_3**2*m_3/4 + m_4*(2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))))/(I_4 + l_4**2*m_4/4 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) - (I_4 + m_4*(l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))**2/(I_3 + I_4 + l_3**2*m_3/4 + m_4*(2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_2*theta_4_dot - m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3))/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*((np.sin(theta_3)*np.sin(theta_4) - np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot))/2 - m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))*(b_2*theta_4_dot - 1.0*k_2*theta_4 - m_4*(l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot)/2 + m_4*(l_1*l_4*((np.sin(theta_3)*np.sin(theta_4) - np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4))/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_1*theta_2_dot + b_2*theta_4_dot - 1.0*k_1*theta_2 - l_1*l_2*m_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot/2 + l_1*l_2*m_2*np.sin(theta_2)*theta_1_dot*theta_2_dot/2 + m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot)/2 - m_3*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot)/2 - m_4*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) + self.tau_2)/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) - (I_4 + m_4*(l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))*(b_2*theta_4_dot - m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3))/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*((np.sin(theta_3)*np.sin(theta_4) - np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot))/2 - m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_1*theta_2_dot + b_2*theta_4_dot - 1.0*k_1*theta_2 - l_1*l_2*m_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot/2 + l_1*l_2*m_2*np.sin(theta_2)*theta_1_dot*theta_2_dot/2 + m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot)/2 - m_3*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot)/2 - m_4*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) + self.tau_2)/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) + self.tau_2)/(I_3 + I_4 + l_3**2*m_3/4 + m_4*(2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))))/(I_4 + l_4**2*m_4/4 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) - (I_4 + m_4*(l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))**2/(I_3 + I_4 + l_3**2*m_3/4 + m_4*(2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_1*theta_2_dot + b_2*theta_4_dot - 1.0*k_1*theta_2 - l_1*l_2*m_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot/2 + l_1*l_2*m_2*np.sin(theta_2)*theta_1_dot*theta_2_dot/2 + m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot)/2 - m_3*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot)/2 - m_4*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) + self.tau_2)/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) + self.tau_2)/(I_3 + I_4 + l_3**2*m_3/4 + m_4*(2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))) - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) + self.tau_2)/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)), 
(b_2*theta_4_dot - m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3))/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*((np.sin(theta_3)*np.sin(theta_4) - np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot))/2 - m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))*(b_2*theta_4_dot - 1.0*k_2*theta_4 - m_4*(l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot)/2 + m_4*(l_1*l_4*((np.sin(theta_3)*np.sin(theta_4) - np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4))/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_1*theta_2_dot + b_2*theta_4_dot - 1.0*k_1*theta_2 - l_1*l_2*m_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot/2 + l_1*l_2*m_2*np.sin(theta_2)*theta_1_dot*theta_2_dot/2 + m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot)/2 - m_3*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot)/2 - m_4*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) + self.tau_2)/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) - (I_4 + m_4*(l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))*(b_2*theta_4_dot - m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3))/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*((np.sin(theta_3)*np.sin(theta_4) - np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot))/2 - m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_1*theta_2_dot + b_2*theta_4_dot - 1.0*k_1*theta_2 - l_1*l_2*m_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot/2 + l_1*l_2*m_2*np.sin(theta_2)*theta_1_dot*theta_2_dot/2 + m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot)/2 - m_3*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot)/2 - m_4*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) + self.tau_2)/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) + self.tau_2)/(I_3 + I_4 + l_3**2*m_3/4 + m_4*(2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))))/(I_4 + l_4**2*m_4/4 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) - (I_4 + m_4*(l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))**2/(I_3 + I_4 + l_3**2*m_3/4 + m_4*(2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_1*theta_2_dot + b_2*theta_4_dot - 1.0*k_1*theta_2 - l_1*l_2*m_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot/2 + l_1*l_2*m_2*np.sin(theta_2)*theta_1_dot*theta_2_dot/2 + m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot)/2 - m_3*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot)/2 - m_4*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) + self.tau_2)/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) + self.tau_2)/(I_3 + I_4 + l_3**2*m_3/4 + m_4*(2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))), 
(b_2*theta_4_dot - 1.0*k_2*theta_4 - m_4*(l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot)/2 + m_4*(l_1*l_4*((np.sin(theta_3)*np.sin(theta_4) - np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4))/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_1*theta_2_dot + b_2*theta_4_dot - 1.0*k_1*theta_2 - l_1*l_2*m_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot/2 + l_1*l_2*m_2*np.sin(theta_2)*theta_1_dot*theta_2_dot/2 + m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot)/2 - m_3*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot)/2 - m_4*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) + self.tau_2)/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) - (I_4 + m_4*(l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))*(b_2*theta_4_dot - m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3))/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*((np.sin(theta_3)*np.sin(theta_4) - np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*(theta_1_dot + theta_2_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot))/2 - m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(b_1*theta_2_dot + b_2*theta_4_dot - 1.0*k_1*theta_2 - l_1*l_2*m_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot/2 + l_1*l_2*m_2*np.sin(theta_2)*theta_1_dot*theta_2_dot/2 + m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot)/2 - m_3*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 + m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_1_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3) - np.sin(theta_3)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*theta_1_dot)/2 - m_4*(-2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(b_1*theta_2_dot + b_2*theta_4_dot - m_2*(-l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot)/2 - m_3*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot - l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot)/2 - m_4*(-2*l_1*l_2*(theta_1_dot + theta_2_dot)*np.sin(theta_2)*theta_2_dot - 2*l_1*l_2*np.sin(theta_2)*theta_1_dot*theta_2_dot + 2*l_1*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot) + 2*l_1*l_3*(-np.sin(theta_2)*np.cos(theta_3)*theta_2_dot - np.sin(theta_2)*np.cos(theta_3)*theta_3_dot - np.sin(theta_3)*np.cos(theta_2)*theta_2_dot - np.sin(theta_3)*np.cos(theta_2)*theta_3_dot)*theta_1_dot + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) + l_1*l_4*(-(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.sin(theta_2)*theta_2_dot + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.cos(theta_2)*theta_2_dot + (np.sin(theta_3)*np.sin(theta_4)*theta_3_dot + np.sin(theta_3)*np.sin(theta_4)*theta_4_dot - np.cos(theta_3)*np.cos(theta_4)*theta_3_dot - np.cos(theta_3)*np.cos(theta_4)*theta_4_dot)*np.sin(theta_2) + (-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*np.cos(theta_2))*theta_1_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot)*np.sin(theta_3)*theta_3_dot - 2*l_2*l_3*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_3)*theta_3_dot + l_2*l_4*(theta_1_dot + theta_2_dot)*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot) + l_2*l_4*(-np.sin(theta_3)*np.cos(theta_4)*theta_3_dot - np.sin(theta_3)*np.cos(theta_4)*theta_4_dot - np.sin(theta_4)*np.cos(theta_3)*theta_3_dot - np.sin(theta_4)*np.cos(theta_3)*theta_4_dot)*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot) - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot)*np.sin(theta_4)*theta_4_dot - l_3*l_4*(theta_1_dot + theta_2_dot + theta_3_dot + theta_4_dot)*np.sin(theta_4)*theta_4_dot)/2 + self.tau_1 + self.tau_2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) + self.tau_2)/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) + self.tau_2)/(I_3 + I_4 + l_3**2*m_3/4 + m_4*(2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))))/(I_4 + l_4**2*m_4/4 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)) - (I_4 + m_4*(l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_4 + m_4*(l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_4 + m_4*(l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))*(I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)))**2/(I_3 + I_4 + l_3**2*m_3/4 + m_4*(2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2) - (I_3 + I_4 + m_3*(l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_3 + I_4 + m_3*(l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2*l_3*np.cos(theta_3) + l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)*(I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))**2/(I_2 + I_3 + I_4 + l_2**2*m_2/4 + m_3*(2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2 - (I_2 + I_3 + I_4 + m_2*(l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1*l_2*np.cos(theta_2) + l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2)**2/(I_1 + I_2 + I_3 + I_4 + l_1**2*m_1/4 + m_2*(2*l_1**2 + 2*l_1*l_2*np.cos(theta_2) + l_2**2/2)/2 + m_3*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 2*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_2**2 + 2*l_2*l_3*np.cos(theta_3) + l_3**2/2)/2 + m_4*(2*l_1**2 + 4*l_1*l_2*np.cos(theta_2) + 4*l_1*l_3*(-np.sin(theta_2)*np.sin(theta_3) + np.cos(theta_2)*np.cos(theta_3)) + 2*l_1*l_4*((-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4))*np.cos(theta_2) + (-np.sin(theta_3)*np.cos(theta_4) - np.sin(theta_4)*np.cos(theta_3))*np.sin(theta_2)) + 2*l_2**2 + 4*l_2*l_3*np.cos(theta_3) + 2*l_2*l_4*(-np.sin(theta_3)*np.sin(theta_4) + np.cos(theta_3)*np.cos(theta_4)) + 2*l_3**2 + 2*l_3*l_4*np.cos(theta_4) + l_4**2/2)/2))))
]